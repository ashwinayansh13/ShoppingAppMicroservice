@model List<SimpleProject.Models.GalleryItem>
@{
    ViewData["Title"] = "Selected Items";
}

<div class="details-container">
    <h1>Selected Items</h1>
    <p>Review your selected items and proceed to payment.</p>

    <table class="table">
        <thead>
            <tr>
                <th>Image</th>
                <th>Title</th>
                <th>Category</th>
                <th class="text-end">Price</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        <img src="@item.ImageUrl" alt="@item.Title" style="width: 80px; height: 60px; object-fit: cover;" />
                    </td>
                    <td>@item.Title</td>
                    <td>@item.Category</td>
                    <td class="text-end">@item.Price.ToString("C")</td>
                </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <th colspan="3" class="text-end">Total:</th>
                <th class="text-end">
                    @Model.Sum(i => i.Price).ToString("C")
                </th>
            </tr>
        </tfoot>
    </table>

    <div class="mt-3 d-flex gap-2">
        <form asp-controller="Checkout" asp-action="Pay" method="post">
            <button type="submit" class="btn btn-primary">Pay now</button>
        </form>

        <a asp-controller="Home" asp-action="Index" class="btn btn-secondary">Back</a>

        <form asp-controller="Checkout" asp-action="Verify" method="get">
            @foreach (var item in Model)
            {
                <input type="hidden" name="selectedIds" value="@item.Id" />
            }
            <button type="submit" class="btn btn-outline-primary">Varify</button>
        </form>
    </div>
</div>

